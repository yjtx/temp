var puremvc;!function(t){"use strict";var e=function(){function t(t,e){this.notify=null,this.context=null,this.setNotifyMethod(t),this.setNotifyContext(e)}var e=(__define,t),i=e.prototype;return i.getNotifyMethod=function(){return this.notify},i.setNotifyMethod=function(t){this.notify=t},i.getNotifyContext=function(){return this.context},i.setNotifyContext=function(t){this.context=t},i.notifyObserver=function(t){this.getNotifyMethod().call(this.getNotifyContext(),t)},i.compareNotifyContext=function(t){return t===this.context},t}();t.Observer=e,egret.registerClass(e,"puremvc.Observer",["puremvc.IObserver"])}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function e(t){if(this.mediatorMap=null,this.observerMap=null,this.multitonKey=null,e.instanceMap[t])throw Error(e.MULTITON_MSG);e.instanceMap[t]=this,this.multitonKey=t,this.mediatorMap={},this.observerMap={},this.initializeView()}var i=(__define,e),n=i.prototype;return n.initializeView=function(){},n.registerObserver=function(t,e){var i=this.observerMap[t];i?i.push(e):this.observerMap[t]=[e]},n.removeObserver=function(t,e){for(var i=this.observerMap[t],n=i.length;n--;){var r=i[n];if(r.compareNotifyContext(e)){i.splice(n,1);break}}0==i.length&&delete this.observerMap[t]},n.notifyObservers=function(t){var e=t.getName(),i=this.observerMap[e];if(i)for(var n=i.slice(0),r=n.length,o=0;r>o;o++){var s=n[o];s.notifyObserver(t)}},n.registerMediator=function(e){var i=e.getMediatorName();if(!this.mediatorMap[i]){e.initializeNotifier(this.multitonKey),this.mediatorMap[i]=e;var n=e.listNotificationInterests(),r=n.length;if(r>0)for(var o=new t.Observer(e.handleNotification,e),s=0;r>s;s++)this.registerObserver(n[s],o);e.onRegister()}},n.retrieveMediator=function(t){return this.mediatorMap[t]||null},n.removeMediator=function(t){var e=this.mediatorMap[t];if(!e)return null;for(var i=e.listNotificationInterests(),n=i.length;n--;)this.removeObserver(i[n],e);return delete this.mediatorMap[t],e.onRemove(),e},n.hasMediator=function(t){return null!=this.mediatorMap[t]},e.getInstance=function(t){return e.instanceMap[t]||(e.instanceMap[t]=new e(t)),e.instanceMap[t]},e.removeView=function(t){delete e.instanceMap[t]},e.MULTITON_MSG="View instance for this multiton key already constructed!",e.instanceMap={},e}();t.View=e,egret.registerClass(e,"puremvc.View",["puremvc.IView"])}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function e(t){if(this.view=null,this.commandMap=null,this.multitonKey=null,e.instanceMap[t])throw Error(e.MULTITON_MSG);e.instanceMap[t]=this,this.multitonKey=t,this.commandMap={},this.initializeController()}var i=(__define,e),n=i.prototype;return n.initializeController=function(){this.view=t.View.getInstance(this.multitonKey)},n.executeCommand=function(t){var e=this.commandMap[t.getName()];if(e){var i=new e;i.initializeNotifier(this.multitonKey),i.execute(t)}},n.registerCommand=function(e,i){this.commandMap[e]||this.view.registerObserver(e,new t.Observer(this.executeCommand,this)),this.commandMap[e]=i},n.hasCommand=function(t){return null!=this.commandMap[t]},n.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this),delete this.commandMap[t])},e.getInstance=function(t){return e.instanceMap[t]||(e.instanceMap[t]=new e(t)),e.instanceMap[t]},e.removeController=function(t){delete e.instanceMap[t]},e.MULTITON_MSG="Controller instance for this multiton key already constructed!",e.instanceMap={},e}();t.Controller=e,egret.registerClass(e,"puremvc.Controller",["puremvc.IController"])}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function t(e){if(this.proxyMap=null,this.multitonKey=null,t.instanceMap[e])throw Error(t.MULTITON_MSG);t.instanceMap[e]=this,this.multitonKey=e,this.proxyMap={},this.initializeModel()}var e=(__define,t),i=e.prototype;return i.initializeModel=function(){},i.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},i.removeProxy=function(t){var e=this.proxyMap[t];return e&&(delete this.proxyMap[t],e.onRemove()),e},i.retrieveProxy=function(t){return this.proxyMap[t]||null},i.hasProxy=function(t){return null!=this.proxyMap[t]},t.getInstance=function(e){return t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]},t.removeModel=function(e){delete t.instanceMap[e]},t.MULTITON_MSG="Model instance for this multiton key already constructed!",t.instanceMap={},t}();t.Model=e,egret.registerClass(e,"puremvc.Model",["puremvc.IModel"])}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function t(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),this.name=null,this.body=null,this.type=null,this.name=t,this.body=e,this.type=i}var e=(__define,t),i=e.prototype;return i.getName=function(){return this.name},i.setBody=function(t){this.body=t},i.getBody=function(){return this.body},i.setType=function(t){this.type=t},i.getType=function(){return this.type},i.toString=function(){var t="Notification Name: "+this.getName();return t+="\nBody:"+(null==this.getBody()?"null":this.getBody().toString()),t+="\nType:"+(null==this.getType()?"null":this.getType())},t}();t.Notification=e,egret.registerClass(e,"puremvc.Notification",["puremvc.INotification"])}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function e(t){if(this.model=null,this.view=null,this.controller=null,this.multitonKey=null,e.instanceMap[t])throw Error(e.MULTITON_MSG);this.initializeNotifier(t),e.instanceMap[t]=this,this.initializeFacade()}var i=(__define,e),n=i.prototype;return n.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},n.initializeModel=function(){this.model||(this.model=t.Model.getInstance(this.multitonKey))},n.initializeController=function(){this.controller||(this.controller=t.Controller.getInstance(this.multitonKey))},n.initializeView=function(){this.view||(this.view=t.View.getInstance(this.multitonKey))},n.registerCommand=function(t,e){this.controller.registerCommand(t,e)},n.removeCommand=function(t){this.controller.removeCommand(t)},n.hasCommand=function(t){return this.controller.hasCommand(t)},n.registerProxy=function(t){this.model.registerProxy(t)},n.retrieveProxy=function(t){return this.model.retrieveProxy(t)},n.removeProxy=function(t){var e;return this.model&&(e=this.model.removeProxy(t)),e},n.hasProxy=function(t){return this.model.hasProxy(t)},n.registerMediator=function(t){this.view&&this.view.registerMediator(t)},n.retrieveMediator=function(t){return this.view.retrieveMediator(t)},n.removeMediator=function(t){var e;return this.view&&(e=this.view.removeMediator(t)),e},n.hasMediator=function(t){return this.view.hasMediator(t)},n.notifyObservers=function(t){this.view&&this.view.notifyObservers(t)},n.sendNotification=function(e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),this.notifyObservers(new t.Notification(e,i,n))},n.initializeNotifier=function(t){this.multitonKey=t},e.getInstance=function(t){return e.instanceMap[t]||(e.instanceMap[t]=new e(t)),e.instanceMap[t]},e.hasCore=function(t){return e.instanceMap[t]?!0:!1},e.removeCore=function(i){e.instanceMap[i]&&(t.Model.removeModel(i),t.View.removeView(i),t.Controller.removeController(i),delete e.instanceMap[i])},e.MULTITON_MSG="Facade instance for this multiton key already constructed!",e.instanceMap={},e}();t.Facade=e,egret.registerClass(e,"puremvc.Facade",["puremvc.IFacade","puremvc.INotifier"])}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function e(){this.multitonKey=null}var i=(__define,e),n=i.prototype;return n.initializeNotifier=function(t){this.multitonKey=t},n.sendNotification=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),this.facade()&&this.facade().sendNotification(t,e,i)},n.facade=function(){if(null===this.multitonKey)throw Error(e.MULTITON_MSG);return t.Facade.getInstance(this.multitonKey)},e.MULTITON_MSG="multitonKey for this Notifier not yet initialized!",e}();t.Notifier=e,egret.registerClass(e,"puremvc.Notifier",["puremvc.INotifier"])}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(t){function e(){t.call(this),this.subCommands=null,this.subCommands=new Array,this.initializeMacroCommand()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initializeMacroCommand=function(){},n.addSubCommand=function(t){this.subCommands.push(t)},n.execute=function(t){for(var e=this.subCommands.slice(0),i=this.subCommands.length,n=0;i>n;n++){var r=e[n],o=new r;o.initializeNotifier(this.multitonKey),o.execute(t)}this.subCommands.splice(0)},e}(t.Notifier);t.MacroCommand=e,egret.registerClass(e,"puremvc.MacroCommand",["puremvc.ICommand","puremvc.INotifier"])}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.execute=function(t){},e}(t.Notifier);t.SimpleCommand=e,egret.registerClass(e,"puremvc.SimpleCommand",["puremvc.ICommand","puremvc.INotifier"])}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(t){function e(i,n){void 0===i&&(i=null),void 0===n&&(n=null),t.call(this),this.mediatorName=null,this.viewComponent=null,this.mediatorName=null!=i?i:e.NAME,this.viewComponent=n}__extends(e,t);var i=(__define,e),n=i.prototype;return n.getMediatorName=function(){return this.mediatorName},n.getViewComponent=function(){return this.viewComponent},n.setViewComponent=function(t){this.viewComponent=t},n.listNotificationInterests=function(){return new Array},n.handleNotification=function(t){},n.onRegister=function(){},n.onRemove=function(){},e.NAME="Mediator",e}(t.Notifier);t.Mediator=e,egret.registerClass(e,"puremvc.Mediator",["puremvc.IMediator","puremvc.INotifier"])}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(t){function e(i,n){void 0===i&&(i=null),void 0===n&&(n=null),t.call(this),this.proxyName=null,this.data=null,this.proxyName=null!=i?i:e.NAME,null!=n&&this.setData(n)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.getProxyName=function(){return this.proxyName},n.setData=function(t){this.data=t},n.getData=function(){return this.data},n.onRegister=function(){},n.onRemove=function(){},e.NAME="Proxy",e}(t.Notifier);t.Proxy=e,egret.registerClass(e,"puremvc.Proxy",["puremvc.IProxy","puremvc.INotifier"])}(puremvc||(puremvc={}));